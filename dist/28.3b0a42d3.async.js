(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{DEH5:function(e,t,o){"use strict";t["a"]={accessToken:"pk.eyJ1IjoiMTg2MjcwMjE1NDMiLCJhIjoiY2s4dHh3dnJ6MDBlMDNmb2l2bDQ4aDF1YSJ9.f6-80XxhwYLNJRDdntMF2w",style:"mapbox://styles/mapbox/streets-v11",center:{lon:114.305215,lat:30.592935},zoom:10}},dTKC:function(e,t,o){"use strict";o.r(t);var r=o("ODXe"),a=o("DEH5"),s=o("q1tI"),c=o.n(s),n=o("PYKl"),i=()=>{var e=Object(s["useRef"])(),t=Object(s["useRef"])(),o=Object(s["useState"])({positon:[0,0],children:null,hidden:!0}),i=Object(r["a"])(o,2),l=i[0],u=i[1],d=Object(s["useCallback"])(o=>{var r=e.current.queryRenderedFeatures(o.point,{layers:["clusters"]}),a=r[0].properties.cluster_id;t.current.getClusterExpansionZoom(a,(t,o)=>{t||e.current.easeTo({center:r[0].geometry["coordinates"],zoom:o})})},[]),p=Object(s["useCallback"])(e=>{var t,o=e.features[0].geometry.coordinates.slice(),r=e.features[0].properties.mag;t=1===e.features[0].properties.tsunami?"yes":"no";while(Math.abs(e.lngLat.lng-o[0])>180)o[0]+=e.lngLat.lng>o[0]?360:-360;u({positon:o,children:"magnitude: "+r+"<br>Was there a tsunami?: "+t,hidden:!1})},[]);return c.a.createElement(n["Map"],{ref:t=>{window.map=t,e.current=t},accessToken:a["a"].accessToken,style:"mapbox://styles/mapbox/dark-v10",zoom:3,center:[-103.59179687498357,40.66995747013945]},c.a.createElement(n["Popup"],{positon:l.positon,hidden:l.hidden,closeButton:!1,closeOnMove:!0},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.children}})),c.a.createElement(n["GeoJSONSource"],{ref:t,id:"earthquakes",option:{data:"https://docs.mapbox.com/mapbox-gl-js/assets/earthquakes.geojson",cluster:!0,clusterRadius:50,clusterMaxZoom:14}},c.a.createElement(n["Layer"],{id:"clusters",source:"earthquakes",type:"circle",paint:{"circle-color":["step",["get","point_count"],"#51bbd6",100,"#f1f075",750,"#f28cb1"],"circle-radius":["step",["get","point_count"],20,100,30,750,40]},filter:["has","point_count"],onClick:d}),c.a.createElement(n["Layer"],{id:"cluster-count",type:"symbol",source:"earthquakes",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),c.a.createElement(n["Layer"],{id:"unclustered-point",type:"circle",source:"earthquakes",filter:["!",["has","point_count"]],paint:{"circle-color":"#11b4da","circle-radius":4,"circle-stroke-width":1,"circle-stroke-color":"#fff"},onClick:p})))};t["default"]=i}}]);